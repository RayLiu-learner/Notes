---
title: Linux入门
date: 2020-02-16 19:52:54
tags: Linux
---

掌握Linux相关知识，对程序员来说是十分重要的。
<!-- more -->

### 基础知识
* 系统调用是操作系统内核与用户程序、应用程序之间的`接口`。
* GCC：`C语言`编译器
* Bash：`linux`中常用的一种`shell`
* Linux系统的桌面市场不成熟
* Linux的系统特点
    * 与UNIX兼容
    * 自由软件，源码公开
    * 性能高，安全性强
    * 便于定制和再开发
    * 互操作性高
    * 全面的多任务和真正的32/64位操作系统
    * 在服务器市场及嵌入式系统领域应用广泛，是一种高性能、低开支的可以替换其他昂贵操作系统的系统
* Linux系统分区
    * 传统的IDE硬盘被称为hda，hdb，SATA串口、SCSI并口 被称为sda，sdb
* Linux系统分区
    * 主分区
    * 扩展分区
    * 逻辑分区
* MBR分区表
    * 最多四个主分区 或者 最多三个主分区及一个拓展分区，拓展分区上多个逻辑分区
* /dev/sda5意思 dev硬件设备文件所在目录 sd表示并口 a硬盘顺序号 数字5是分区顺序号
### 目录
* 各目录用途
    * `/bin`：这个目录存放着普通用户经常使用的命令文件。
    * `/sbin`：s是Super User的意思。这里存放的是系统管理员使用的系统管理程序。系统管理员常用的二进制命令文件。
    * `/boot`：这里存放的是启动Linux时使用的一些核心文件，包括内核、一些链接文件以及镜像文件。
    * `/dev`：dev是Device的缩写。该目录下存放的是设备文件，在Linux中访问外部设备的方式和访问文件的方式是相同的。
    * `/etc`：存放配置文件和子目录
    * `/mut`：为了让用户临时挂载别的文件系统，光驱挂载在 /mnt/cdrom
    * `/root`：该目录为系统管理员（即超级用户root）的用户主目录
    * `/home`：存放普通用户的主目录，以账号命名，如：/home/liurui
* 用户标示
    * #：管理员用户
    * $：普通用户
* 关机
    * ```
      halt -p
      ```
    * ```
      shutdown -h<time>
      ```
    * ```
      poweroff
      ```
* 重启
    * ```
      reboot
      ```
    * ```
      shutdown -r<time>
      ```
### 相关命令
* `man`：联机帮助手册    man 命令名称
* `help`：查看shell内部命令帮助信息
* `who`：显示当前已注册到系统的所有用户名
* `whoami`：显示当前有效的用户名称
* `-N`：仅显示最近期的n行输出，其中n为正整数
* `uname`：显示计算机的基本信息
* `hostname`：显示计算机的名称。          显示主机信息类查询命令：uname、hostname
* `echo`：将命令行中的参数显示到标准输出（屏幕）上
* `date`：在屏幕上显示或者设置系统的日期和时间
* `cal`：用来显示日历
* 基础命令 成为超级用户
    * 管理员切换到普通用户：不需要密码
    * 反之则需要密码
        * `su -切换目录`，切换到用户的跟目录
        * su stu：不切换目录
        * `exit`：切换回原先的用户
        * 切换到root账号： `su root`
### 目录操作
* `ls-l`：以列表方式显示文件的详细信息
    * 开头有10个字符构成的字符串，其中第一个字符表示文件类型：
        * -普通文件
        * d目录
        * l符号链接
* `ls-a`：显示指定目录下所有子目录与文件，包括隐藏文件（.开头的文件）
* `ls-h`：显示文件大小
* `ls-lh`(需要分析）
* 目录与文件的基本操作命令-ln
    * 给系统中已有的某个文件或目录指定另一个可用于访问他的名称
    * 硬连接
    * 符号链接
* 默认情况下，ln产生硬连接。如果给ln命令加上-s选项，则建立符号链接。
* 文件的硬连接数为1，文件夹则看有几种形式访问到该文件夹，则硬连接数就为几
* 硬连接和软链接的区别
* 软连击与硬连接不同
    * 软链接有自己的文件属性及权限等
    * 可对不存在的文件或目录创建软连接
    * 软连接可对文件或目录创建
    * 创建软连接时，链接计数 i_nlink 不会增加
    * 删除软连接并不影响被指的文件
        * 但若被指向的原文件被删除，则相关软连接被称为死链接，若被指向路径文件被重新建立，死链接可恢复正常的软连接。
* 软连接演示
* Linux中文件名与文件数据是分开储存的，软连接中存放的是文件的路径，文件名是人命中的大名，硬连接则是小名。
* 复习：`-rwxr--r--  2  linux linux 5699  12月  28  11:36   abc`
    * 该文件的名称是什么？它是什么类型的文件？想给同组用户添加对该文件的可写可执行权限，应使用什么命令？（3）想把该文件链接到目录/home/stu下的tmp文件，应如何操作？
    * abc  、chmod g+wx abc、 ln -s  /tmp/abc/home/stu/tmp
* 权限设置
    * 访问权限
        * 只读（r）只写（w）可执行（x）
    * 文件的用户
        * 文件所有者，同组用户，其他用户
    * 每一个文件或目录的访问权限有三组，每组用三位表示：文件属主的读、写和执行权限；与属主同组用户的读、写和执行权限；系统中其他用户的读、写和执行权限
* `chmod` 改权限
    * 两种方法
        * 文字设定法
            * `chmod [who][+/-/=] [mode] 文件名`
        * 数字设定法
            * `#chmod 746 file.text`    的意思
                * 设定file.text文件的属性为：U为可读可写可执行，g为可读，o为可读可写
* `chgrp`命令：更改文件或目录所属的组
    * chgrp [选项] group filename
    * $ chgrp - R book /opt/local /book
        * 改变/opt/local 、/book/及其子目录下所有的文件的属组为book
* `chown`：改变某个文件的属组或属主 （需要root权限）
        * chown [选项] 用户或者组 文件
            * $ chown wang shiyan.c wang是属主
            * $ chown -R wang.users /his（把目录/his及其下的所有文件和子目录的属主改成wang，属组改成users
* 目录的概念与定义
    * `cd /`命令回到根目录
    * 相对路径
    * 绝对路径 以 ’/’ 开头
    * `cd ～` 快速回到home目录
    * `pwd`查询当前工作目录
    * `mkdir`创建文件夹
        * `-p`用于创建多级目录
### 文件
* 文件概念与定义
    * 普通文件：
        * 文本文件：普通的文本文件
        * 二进制文件：计算机识别的0/1这种，可执行文件、链接库文件、共享库文件
    * 目录文件：Linux把一切看作文件，目录叫做目录文件。
    * 设备文件：都放在dev文件夹下
        * 网络设备文件
        * 块文件
        * 字符设备文件
    * 符号链接文件：软连接和硬连接
        * 符号连接文件就是软连接，相当于windows的快捷方式
* 文件类型
    * 常规文件、目录文件、链接文件、字符设备文件、块设备文件、管道文件、套接字文件
* `cat`命令：在标准输出上显示文件
    * 显示文件
    * 链接两个多个文件
        * 把文件file1和文件file2的内容合并起来，放入file3中
        * cat file1 file2 > file3
* `tail`命令：查看文件最后几行，默认是最后10行
* `head`命令：查看文件前几行，默认是前10行
* `file`：查看文件类型
    * 语法：file 文件名
* `Wc`命令：用来统计指定文件的字节数、字数、行数、并将统计结果显示出来
* `touch`：生成一个空文件或修改文件的存取/修改的时间记录值
* `grep`命令：在文本文件中查找指定模式的词或短语，并在标准输出上显示包括给定字符串模式的所有行
* 重定向：>
    * 如：ls>ls.text将查找出来的放入ls.text文本中
* 管道：
* `find`命令：用来在一个或多个目录及其递归子目录中搜索符合特定条件的文件
* 文件的压缩打包的方式：gzip
### VIM的简单用法
* 编辑器的工作模式
    * 命令模式
    * 插入模式 按下i的那个
    * 末行模式 有：的
* 文本插入命令
    * 新增：`a`为从光标所在位置后面新增，`A`为从光标所在行最后面新增
    * 开始：`o`为从光标所在行下新增，`O`为从光标所在行上新增
* 文本的复制和移动
    * `yy`复制当前行到内存缓冲区
    * `nyy`复制n行内容到内存缓冲区
    * `p`将缓冲区内容粘贴在光标后
    * `P`将缓冲区内容粘贴在光标前
* 文件的保存和退出
    * `:w`：保存
    * `:q`：退出
    * `:w!`：强制保存
    * `:q!`：强制退出
    * `:wq`：保存退出
    * `:wq!`：强制保存退出
### 其他
* top命令：系统监控命令，能显示实时的进程列表，而且还能实时监视系统资源，包括内存、交换分区和cpu的使用率等
* 删除进程命令 kill
* shell的概念 既是命令解释程序又是高级程序设计语言
* shell是解释型语言，不需要重新编译
* shell是用户和系统内核之间的接口程序
* shell是命令解释器，解释用户命令和shell程序的文字终端
* #！/bin/bash 两分
* 一般步骤
    * 编辑文件
    * 保存文件
    * 将文件赋予可以执行的权限
    * 运行及排错
* declare -i 变量名：声明变量为数值型变量
* declare -r ：声明只读变量
* If语句例子
    * 基本格式：
    * if特殊例子
* For循环例子 
